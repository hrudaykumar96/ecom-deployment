import{R as p,u as v,a as g,E as y,r as E,F as m,s as x,j as e,p as j}from"./index-02v5Kx9p.js";import{u as B,c as C,a as c}from"./index.esm-BnwETkTM.js";import{B as F}from"./ButtonLoader-Ds9zo1c0.js";const f=p.memo(({data:l})=>{var t,h,u,b;const r=v(),{loading:d,response:a}=g(n=>n.updateuserdata),i=localStorage.getItem("token"),s=B({initialValues:{name:((t=l==null?void 0:l.success)==null?void 0:t.name)||"",email:((h=l==null?void 0:l.success)==null?void 0:h.email)||"",mobile:((u=l==null?void 0:l.success)==null?void 0:u.mobile)||"",address:((b=l==null?void 0:l.success)==null?void 0:b.address)||""},validationSchema:C({name:c().required("Enter your name").min(3,"Name should be at least 3 characters"),email:c().required("Enter email address").email("Enter valid email address"),mobile:c().required("Enter mobile number").length(10,"Enter valid mobile number"),address:c().required("Enter full address").min(5,"Enter full address")}),onSubmit:n=>{r(y({values:n,token:i}))}});return E.useEffect(()=>{if(a){if(a.success){s.resetForm();const n=document.getElementById("profileModal"),o=window.bootstrap.Modal.getInstance(n);o&&o.hide(),r(m()),x("Success",`${a.success}`,"success")}else if(a.email)s.setErrors({email:`${a.email}`}),r(m());else if(a.mobile)s.setErrors({mobile:`${a.mobile}`}),r(m());else if(a.error){x("Error","internal server error","error"),s.resetForm(),r(m());const n=document.getElementById("profileModal"),o=window.bootstrap.Modal.getInstance(n);o&&o.hide()}}},[a,r,i]),e.jsx("div",{className:"modal fade",id:"profileModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Update Profile"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),e.jsx("span",{className:"text-danger",children:"*"}),e.jsx("input",{type:"text",className:`form-control ${s.touched.name&&(s.errors.name?"is-invalid":"")}`,placeholder:"Enter your name",name:"name",value:s.values.name,onChange:s.handleChange,onBlur:s.handleBlur}),e.jsx("div",{className:"invalid-feedback",children:s.errors.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("span",{className:"text-danger",children:"*"}),e.jsx("input",{type:"email",className:`form-control ${s.touched.email&&(s.errors.email?"is-invalid":"")}`,placeholder:"Enter email address",name:"email",value:s.values.email,onChange:s.handleChange,onBlur:s.handleBlur}),e.jsx("div",{className:"invalid-feedback",children:s.errors.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"mobile",className:"form-label",children:"Mobile Number"}),e.jsx("span",{className:"text-danger",children:"*"}),e.jsx("input",{type:"text",className:`form-control ${s.touched.mobile&&(s.errors.mobile?"is-invalid":"")}`,placeholder:"Enter mobile number",name:"mobile",value:s.values.mobile,onChange:s.handleChange,onBlur:s.handleBlur}),e.jsx("div",{className:"invalid-feedback",children:s.errors.mobile})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),e.jsx("span",{className:"text-danger",children:"*"}),e.jsx("textarea",{className:`form-control ${s.touched.address&&(s.errors.address?"is-invalid":"")}`,placeholder:"Enter address",name:"address",value:s.values.address,onChange:s.handleChange,onBlur:s.handleBlur}),e.jsx("div",{className:"invalid-feedback",children:s.errors.address})]})]}),e.jsx("div",{className:"modal-footer",children:d?e.jsx(F,{}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})})});f.displayName="AddressForm";f.propTypes={data:j.any};const N=p.memo(({data:l})=>{var r,d,a,i;return e.jsx("div",{className:"container pt-3 pb-3 ps-auto pe-auto",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:"profile details"}),e.jsxs("div",{className:"card-body",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"name:"}),e.jsxs("span",{children:[" ",(r=l==null?void 0:l.success)==null?void 0:r.name]})]}),e.jsx("strong",{children:"address:"}),e.jsx("p",{children:(d=l==null?void 0:l.success)==null?void 0:d.address}),e.jsxs("p",{children:[e.jsx("strong",{children:"email:"})," ",e.jsx("span",{style:{textTransform:"none"},children:(a=l==null?void 0:l.success)==null?void 0:a.email})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"mobile number:"})," ",e.jsxs("span",{children:["+91-",(i=l==null?void 0:l.success)==null?void 0:i.mobile]})]})]}),e.jsx("div",{className:"card-footer",children:e.jsx("button",{type:"button",className:"btn btn-warning","data-bs-toggle":"modal","data-bs-target":"#profileModal",children:"edit"})})]})})});N.displayName="Profile_Details";N.propTypes={data:j.any};export{f as A,N as P};
