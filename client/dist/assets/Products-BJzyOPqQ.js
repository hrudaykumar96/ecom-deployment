import{R as u,u as C,a as N,r as d,X as b,Y as E,s as h,h as L,j as e,L as g,Z as k,_ as M}from"./index-02v5Kx9p.js";import{N as _}from"./Navs-C4xq8lsz.js";const v=u.memo(()=>{var j;const t=localStorage.getItem("token"),n=C(),{loading:y,data:r}=N(s=>s.allproductslice),a=N(s=>s.deleteproductsdataslicebyid.response),[l,w]=d.useState({sellerName:"",sellerEmail:"",sellerMobile:"",brandName:"",category:"",section:"",status:""});d.useEffect(()=>{t&&n(b(t))},[t,n]);const c=s=>{w({...l,[s.target.name]:s.target.value})},i=(j=r==null?void 0:r.success)==null?void 0:j.filter(s=>{var o,m,x;return((o=s==null?void 0:s.user)==null?void 0:o.name.toLowerCase().includes(l.sellerName.toLowerCase()))&&((m=s==null?void 0:s.user)==null?void 0:m.email.toLowerCase().includes(l.sellerEmail.toLowerCase()))&&((x=s==null?void 0:s.user)==null?void 0:x.mobile.toString().includes(l.sellerMobile))&&(s==null?void 0:s.brand_name.toLowerCase().includes(l.brandName.toLowerCase()))&&(s==null?void 0:s.category.toLowerCase().includes(l.category.toLowerCase()))&&(l.section===""||(s==null?void 0:s.section.toLowerCase())===l.section.toLowerCase())&&(l.status===""||(s==null?void 0:s.status.toLowerCase())===l.status.toLowerCase())});d.useEffect(()=>{r!=null&&r.error&&(n(E()),h("Error","Internal server error","error"))},[r,n]);const S=s=>{h({title:"Are you sure?",text:"You will not be able to recover",icon:"warning",buttons:["No, cancel plx!","Yes, delete it!"]}).then(o=>{o?(n(k({token:t,id:s})),n(M()),h("Deleted!","product deleted successfully.","success")):h("Cancelled","Your imaginary file is safe :)","error")})};return d.useEffect(()=>{a&&(a!=null&&a.error?h("Error","internal server error","error"):a!=null&&a.status?h("Error",`${a==null?void 0:a.status}`,"error"):a!=null&&a.success&&t&&(n(b(t)),n(L(t))))},[a,t,n]),e.jsxs("div",{className:"p-2 d-flex align-items-center justify-content-center flex-column",style:{minHeight:"100vh"},children:[e.jsx("h4",{className:"text-center",children:"Products Management"}),e.jsxs("div",{className:"table-responsive w-100",children:[e.jsxs("span",{className:"bg-light p-2 mb-1",children:["total products: ",i==null?void 0:i.length]}),e.jsxs("table",{className:"table table-bordered text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("p",{children:"Seller Name"}),e.jsx("input",{type:"search",name:"sellerName",value:l.sellerName,onChange:c,className:"form-control",placeholder:"Search Seller Name"})]})}),e.jsx("th",{scope:"col",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("p",{children:"Seller Email"}),e.jsx("input",{type:"search",name:"sellerEmail",value:l.sellerEmail,onChange:c,className:"form-control",placeholder:"Search Seller Email"})]})}),e.jsx("th",{scope:"col",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("p",{children:"Seller Mobile Number"}),e.jsx("input",{type:"number",name:"sellerMobile",value:l.sellerMobile,onChange:c,className:"form-control",placeholder:"Search Seller Mobile Number"})]})}),e.jsx("th",{scope:"col",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("p",{children:"Brand Name"}),e.jsx("input",{type:"search",name:"brandName",value:l.brandName,onChange:c,className:"form-control",placeholder:"Search Brand Name"})]})}),e.jsx("th",{scope:"col",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("p",{children:"Category"}),e.jsx("input",{type:"search",name:"category",value:l.category,onChange:c,className:"form-control",placeholder:"Search Category"})]})}),e.jsx("th",{scope:"col",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("p",{children:"Section"}),e.jsxs("select",{name:"section",value:l.section,onChange:c,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Section"}),e.jsx("option",{value:"mens wear",children:"Mens Wear"}),e.jsx("option",{value:"womens wear",children:"Womens Wear"}),e.jsx("option",{value:"footwear",children:"Footwear"})]})]})}),e.jsx("th",{scope:"col",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("p",{children:"Status"}),e.jsxs("select",{name:"status",value:l.status,onChange:c,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"in stock",children:"In Stock"}),e.jsx("option",{value:"only few left",children:"Only Few Left"}),e.jsx("option",{value:"out of stock",children:"Out of Stock"})]})]})}),e.jsx("th",{scope:"col",children:"Action"})]})}),e.jsx("tbody",{children:y?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",children:e.jsx("p",{className:"text-center",children:"Loading, please wait..."})})}):(i==null?void 0:i.length)>0?i==null?void 0:i.map((s,o)=>{var m,x,f;return e.jsxs("tr",{children:[e.jsx("td",{children:(m=s==null?void 0:s.user)==null?void 0:m.name}),e.jsx("td",{style:{textTransform:"none"},children:(x=s==null?void 0:s.user)==null?void 0:x.email}),e.jsx("td",{children:(f=s==null?void 0:s.user)==null?void 0:f.mobile}),e.jsx("td",{children:s==null?void 0:s.brand_name}),e.jsx("td",{children:s==null?void 0:s.category}),e.jsx("td",{children:s==null?void 0:s.section}),e.jsx("td",{children:s==null?void 0:s.status}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex flex-wrap justify-content-center",children:[e.jsx(g,{className:"btn btn-success",to:`/update/products/${s==null?void 0:s._id}`,children:e.jsx("i",{className:"fa-solid fa-pen-to-square"})}),e.jsx(g,{className:"btn btn-warning",to:`/description/${s._id}`,children:e.jsx("i",{className:"fa-solid fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>S(s==null?void 0:s._id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})})]},o)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",children:e.jsx("p",{className:"text-center text-danger",children:"No data found"})})})})]})]})]})});v.displayName="Products_Section";const Y=()=>(d.useEffect(()=>{document.title="Ecom | Products Management"},[]),e.jsxs("div",{className:"min-vh-100 w-100",style:{backgroundColor:"rgba(217,217,217"},children:[e.jsx(_,{}),e.jsx(v,{})]}));export{Y as default};
