import{R as y,u as f,a as j,r as m,m as u,n as b,s as h,j as s,L as w,p as x}from"./index-02v5Kx9p.js";import{N}from"./Navs-C4xq8lsz.js";import{S as l}from"./index-DmWVH89f.js";import{i as _}from"./cardloader-DztRGZ-7.js";import{F as v}from"./Filtering-gwPqyQJL.js";const g=y.memo(({filterData:o,search:i})=>{const a=f(),d=localStorage.getItem("token"),{loading:t,data:n}=j(e=>e.getproductslicebycategory);m.useEffect(()=>{d&&a(u({token:d,category:"footwear"}))},[d,a]),m.useEffect(()=>{n&&n!=null&&n.error&&(a(b()),h("Error","internal server error","error"))},[n,a]);const p=(()=>{if(!(n!=null&&n.success))return[];let e=n==null?void 0:n.success;return o!=null&&o.category&&(e=e.filter(r=>(r.category?r.category.toLowerCase():"").includes(o.category.toLowerCase()))),o!=null&&o.color&&(e=e.filter(r=>(r.color?r.color.toLowerCase():"").includes(o.color.toLowerCase()))),o!=null&&o.brand_name&&(e=e.filter(r=>(r.brand_name?r.brand_name.toLowerCase():"").includes(o.brand_name.toLowerCase()))),o!=null&&o.price_from&&(o!=null&&o.price_to)&&(e=e.filter(r=>{const c=r.price?parseFloat(r.price):0;return c>=parseFloat(o.price_from)&&c<=parseFloat(o.price_to)})),i&&(e=e.filter(r=>{var c;return(c=r.about)==null?void 0:c.toLowerCase().includes(i.toLowerCase())})),e})();return s.jsxs("div",{className:"container-fluid min-vh-100 pt-1 pb-1",style:{backgroundColor:"rgb(217, 217, 217)"},children:[s.jsx("button",{className:"btn fs-3",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample",children:s.jsx("i",{className:"fa-solid fa-bars"})}),s.jsx("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-6 g-4",children:p.length>0?p.map((e,r)=>s.jsx("div",{className:"col",children:s.jsxs(w,{className:"card h-100",to:`/description/${e==null?void 0:e._id}`,children:[s.jsx("img",{src:t?_:`https://ecom-lwfl.onrender.com:3000/${e==null?void 0:e.images[0]}`,className:"card-img-top",alt:e.about,loading:"lazy",style:{height:"300px",imageRendering:"pixelated"}}),s.jsxs("div",{className:"card-body",children:[s.jsx("p",{className:"card-text",children:t?s.jsx(l,{}):e.about}),s.jsx("p",{className:"card-text",children:t?s.jsx(l,{}):s.jsxs("span",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[s.jsxs("span",{children:[s.jsx("i",{className:"fa-solid fa-indian-rupee-sign"})," ",t?s.jsx(l,{}):e.price]}),s.jsx("span",{children:s.jsx("small",{className:`card-text ${t?"":e.status==="in stock"?"text-success":e.status==="only few left"?"text-secondary":"text-danger"}`,children:t?s.jsx(l,{}):e.status})})]})})]})]})},r)):s.jsx("p",{className:"text-danger d-flex align-items-center justify-content-center min-vh-100 w-100",children:"no data found"})})]})});g.displayName="Footwearsection";g.propTypes={filterData:x.any,search:x.any};const F=({search:o})=>{m.useEffect(()=>{document.title="Ecom | Footwear"},[]);const[i,a]=m.useState({color:"",brand_name:"",category:"",price_from:"",price_to:""});return s.jsxs(s.Fragment,{children:[s.jsx(N,{}),s.jsx(g,{filterData:i,search:o}),s.jsx(v,{filterData:i,setFilterData:a})]})};F.propTypes={search:x.any};export{F as default};
