import{R as y,u as j,a as f,r as m,m as u,n as h,s as b,j as s,L as w,p as x}from"./index-02v5Kx9p.js";import{N}from"./Navs-C4xq8lsz.js";import{F as _}from"./Filtering-gwPqyQJL.js";import{i as v}from"./cardloader-DztRGZ-7.js";import{S as l}from"./index-DmWVH89f.js";const g=y.memo(({filterData:r,search:i})=>{const a=j(),d=localStorage.getItem("token"),{loading:t,data:n}=f(e=>e.getproductslicebycategory);m.useEffect(()=>{d&&a(u({token:d,category:"mens wear"}))},[d,a]),m.useEffect(()=>{n&&n!=null&&n.error&&(a(h()),b("Error","internal server error","error"))},[n,a]);const p=(()=>{if(!(n!=null&&n.success))return[];let e=n==null?void 0:n.success;return r!=null&&r.category&&(e=e.filter(o=>(o.category?o.category.toLowerCase():"").includes(r.category.toLowerCase()))),r!=null&&r.color&&(e=e.filter(o=>(o.color?o.color.toLowerCase():"").includes(r.color.toLowerCase()))),r!=null&&r.brand_name&&(e=e.filter(o=>(o.brand_name?o.brand_name.toLowerCase():"").includes(r.brand_name.toLowerCase()))),r!=null&&r.price_from&&(r!=null&&r.price_to)&&(e=e.filter(o=>{const c=o.price?parseFloat(o.price):0;return c>=parseFloat(r.price_from)&&c<=parseFloat(r.price_to)})),i&&(e=e.filter(o=>{var c;return(c=o.about)==null?void 0:c.toLowerCase().includes(i.toLowerCase())})),e})();return s.jsxs("div",{className:"container-fluid min-vh-100 pt-1 pb-1",style:{backgroundColor:"rgb(217, 217, 217)"},children:[s.jsx("button",{className:"btn fs-3",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample",children:s.jsx("i",{className:"fa-solid fa-bars"})}),s.jsx("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-6 g-4",children:p.length>0?p.map((e,o)=>s.jsx("div",{className:"col",children:s.jsxs(w,{className:"card h-100",to:`/description/${e==null?void 0:e._id}`,children:[s.jsx("img",{src:t?v:`https://ecom-lwfl.onrender.com:3000/${e==null?void 0:e.images[0]}`,className:"card-img-top",alt:"...",loading:"lazy",style:{height:"300px",imageRendering:"pixelated"}}),s.jsxs("div",{className:"card-body",children:[s.jsx("p",{className:"card-text",children:t?s.jsx(l,{}):e.about}),s.jsx("p",{className:"card-text",children:t?s.jsx(l,{}):s.jsxs("span",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[s.jsxs("span",{children:[s.jsx("i",{className:"fa-solid fa-indian-rupee-sign"})," ",t?s.jsx(l,{}):e.price]}),s.jsx("span",{children:s.jsx("small",{className:`card-text ${t?"":e.status==="in stock"?"text-success":e.status==="only few left"?"text-secondary":"text-danger"}`,children:t?s.jsx(l,{}):e.status})})]})})]})]})},o)):s.jsx("p",{className:"text-danger d-flex align-items-center justify-content-center min-vh-100 w-100",children:"no data found"})})]})});g.displayName="Mensection";g.propTypes={filterData:x.any,search:x.any};const L=({search:r})=>{m.useEffect(()=>{document.title="Ecom | Men's Wear"},[]);const[i,a]=m.useState({color:"",brand_name:"",category:"",price_from:"",price_to:""});return s.jsxs(s.Fragment,{children:[s.jsx(N,{}),s.jsx(_,{filterData:i,setFilterData:a}),s.jsx(g,{filterData:i,search:r})]})};L.propTypes={search:x.any};export{L as default};
