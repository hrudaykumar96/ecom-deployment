import{R as g,u as E,q as O,a as y,r as u,s as w,G as I,y as V,j as s,p as x,H as q,L as A,I as B,J as X,K as M}from"./index-02v5Kx9p.js";import{i as T}from"./cardloader-DztRGZ-7.js";import{S as t}from"./index-DmWVH89f.js";import{B as G}from"./ButtonLoader-Ds9zo1c0.js";const S=g.memo(({loading:c,data:e})=>{var f,b,v,L,$,F,C,z;const a=localStorage.getItem("token"),o=E(),{id:l}=O(),n=y(m=>m.addproducttocartslice.loading),r=y(m=>m.addproducttocartslice.response),[d,p]=u.useState("s"),[h,i]=u.useState(1),j=[{product:l,quantity:h,size:d}],N=()=>{a&&o(q({items:j,token:a}))};return u.useEffect(()=>{r&&(r!=null&&r.success?(w("Success",`${r==null?void 0:r.success}`,"success"),p("s"),i(1),o(I()),o(V(a))):r!=null&&r.error&&(w("Error","internal server error","error"),o(I())))},[r,o]),s.jsx("div",{className:"card mb-3",children:s.jsxs("div",{className:"row g-0",children:[s.jsx("div",{className:"col-md-4",children:s.jsxs("div",{id:"carouselExample1",className:"carousel slide",children:[s.jsx("div",{className:"carousel-inner",children:c?s.jsx("img",{src:T,className:"d-block w-100",style:{height:"268px"}}):(b=(f=e==null?void 0:e.success)==null?void 0:f.images)==null?void 0:b.map((m,D)=>s.jsx("div",{className:`carousel-item ${D===0?"active":""}`,children:s.jsx("img",{src:`https://ecom-lwfl.onrender.com:3000/${m}`,className:"d-block w-100",style:{cursor:"pointer",imageRendering:"pixelated",height:"268px"},alt:"...",loading:"lazy","data-bs-toggle":"modal","data-bs-target":"#imageModal"})},D))}),s.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExample1","data-bs-slide":"prev",children:[s.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Previous"})]}),s.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExample1","data-bs-slide":"next",children:[s.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),s.jsxs("div",{className:"col-md-8",children:[s.jsxs("div",{className:"card-body",children:[s.jsx("p",{className:"card-text",children:c?s.jsx(t,{}):(v=e==null?void 0:e.success)==null?void 0:v.about}),c?s.jsx(t,{}):s.jsxs("p",{className:"card-text",children:["quantity:"," ",s.jsxs("select",{className:"form-select form-select-sm w-25","aria-label":"Small select example",value:h,onChange:m=>i(m.target.value),children:[s.jsx("option",{defaultValue:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"}),s.jsx("option",{value:"4",children:"4"}),s.jsx("option",{value:"5",children:"5"})]})]}),c?s.jsx(t,{}):s.jsxs("select",{className:"form-select form-select-sm w-50","aria-label":"Small select example",value:d,onChange:m=>p(m.target.value),children:[s.jsx("option",{defaultValue:"s",children:"Select Size"}),s.jsx("option",{value:"s",children:"S"}),s.jsx("option",{value:"m",children:"M"}),s.jsx("option",{value:"l",children:"L"}),s.jsx("option",{value:"xl",children:"XL"}),s.jsx("option",{value:"xxl",children:"XXL"})]}),s.jsx("p",{className:"card-text mt-3",children:c?s.jsx(t,{}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa-solid fa-indian-rupee-sign"})," ",((L=e==null?void 0:e.success)==null?void 0:L.price)||s.jsx(t,{})]})})]}),s.jsxs("div",{className:"card-footer d-flex align-items-center justify-content-between",children:[c?s.jsx(t,{}):s.jsx(s.Fragment,{children:n?s.jsx(G,{}):s.jsx(s.Fragment,{children:s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:N,disabled:(($=e==null?void 0:e.success)==null?void 0:$.status)==="out of stock",children:"add to cart"})})}),s.jsx("small",{className:`${((F=e==null?void 0:e.success)==null?void 0:F.status)==="in stock"?"text-success":((C=e==null?void 0:e.success)==null?void 0:C.status)==="only few left"?"text-secondary":"text-danger"}`,children:c?s.jsx(t,{}):(z=e==null?void 0:e.success)==null?void 0:z.status})]})]})]})})});S.displayName="Product_info";S.propTypes={data:x.any,loading:x.bool};const k=g.memo(({loading:c,data:e})=>{var a,o,l,n,r,d;return s.jsx("div",{className:"accordion accordion-flush",id:"accordionFlushExample",children:s.jsxs("div",{className:"accordion-item",children:[s.jsx("h2",{className:"accordion-header",children:s.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne",children:"product description"})}),s.jsx("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample",children:s.jsx("div",{className:"accordion-body",children:c?s.jsx(t,{count:10}):s.jsx("div",{className:"card mb-3",children:s.jsxs("div",{className:"card-body",children:[s.jsx("p",{style:{textAlign:"justify"},children:(a=e==null?void 0:e.success)==null?void 0:a.description}),s.jsxs("div",{className:"box",children:[s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsx("strong",{children:"fabric"}),s.jsx("p",{children:(o=e==null?void 0:e.success)==null?void 0:o.fabric})]}),s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsx("strong",{children:"sleeve"}),s.jsxs("p",{children:["f",(l=e==null?void 0:e.success)==null?void 0:l.sleeve]})]}),s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsx("strong",{children:"pattern"}),s.jsx("p",{children:(n=e==null?void 0:e.success)==null?void 0:n.pattern})]}),s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsx("strong",{children:"color"}),s.jsx("p",{children:(r=e==null?void 0:e.success)==null?void 0:r.color})]}),s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsx("strong",{children:"number of items"}),s.jsxs("p",{children:[(d=e==null?void 0:e.success)==null?void 0:d.items,"N"]})]})]})]})})})})]})})});k.displayName="Product_Description";k.propTypes={loading:x.bool,data:x.any};const P=g.memo(({loading:c,data:e})=>{var a,o;return s.jsx("div",{className:"container-fluid pt-3 pb-3",children:((a=e==null?void 0:e.similarProducts)==null?void 0:a.length)>0&&s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:"text-center",children:"similar products"}),s.jsx("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-6 g-4",children:(o=e==null?void 0:e.similarProducts)==null?void 0:o.map((l,n)=>s.jsx("div",{className:"col",children:s.jsxs(A,{className:"card h-100",to:`/description/${l._id}`,children:[s.jsx("img",{src:c?T:`https://ecom-lwfl.onrender.com:3000/${l.images[0]}`,className:"card-img-top",alt:l.about,loading:"lazy",style:{height:"300px",imageRendering:"pixelated"}}),s.jsxs("div",{className:"card-body",children:[s.jsx("p",{className:"card-text",children:c?s.jsx(t,{}):l.about}),s.jsx("p",{className:"card-text",children:c?s.jsx(t,{}):s.jsxs("span",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[s.jsxs("span",{children:[s.jsx("i",{className:"fa-solid fa-indian-rupee-sign"})," ",c?s.jsx(t,{}):l.price]}),s.jsx("span",{children:s.jsx("small",{className:`card-text ${c?"":l.status==="in stock"?"text-success":l.status==="only few left"?"text-secondary":"text-danger"}`,children:c?s.jsx(t,{}):l.status})})]})})]})]})},n))})]})})});P.displayName="Related_Products";P.propTypes={data:x.any,loading:x.bool};const R=g.memo(({data:c})=>{var e,a,o,l,n;return s.jsx("div",{className:"modal fade",id:"imageModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:s.jsx("div",{className:"modal-dialog modal-fullscreen-sm-down modal-dialog-centered",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h1",{className:"modal-title fs-5 text-truncate",id:"exampleModalLabel",children:(e=c==null?void 0:c.success)==null?void 0:e.description}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{id:"carouselExample",className:"carousel slide",children:[s.jsx("div",{className:"carousel-inner",children:((o=(a=c==null?void 0:c.success)==null?void 0:a.images)==null?void 0:o.length)&&((n=(l=c==null?void 0:c.success)==null?void 0:l.images)==null?void 0:n.map((r,d)=>s.jsx("div",{className:`carousel-item ${d===0?"active":""}`,children:s.jsx("img",{src:`https://ecom-lwfl.onrender.com:3000/${r}`,className:"d-block w-100",style:{cursor:"pointer",imageRendering:"pixelated",height:"268px"},alt:"...",loading:"lazy","data-bs-toggle":"modal","data-bs-target":"#imageModal"})},d)))}),s.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"prev",children:[s.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Previous"})]}),s.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"next",children:[s.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),s.jsx("div",{className:"modal-footer",children:s.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})});R.displayName="Product_Image_FullView";R.propTypes={data:x.any};const _=g.memo(({id:c,token:e})=>{var p,h;const[a,o]=u.useState(!1),l=E(),{loading:n,data:r}=y(i=>i.getratingslice);u.useEffect(()=>{a&&l(B({token:e,id:c}))},[a,e,c,l]);const d=i=>{const j={year:"numeric",month:"long",day:"numeric"};return new Date(i).toLocaleDateString("en-GB",j)};return s.jsx("div",{className:"accordion accordion-flush mt-3",id:"accordionExample",children:s.jsxs("div",{className:"accordion-item",children:[s.jsx("h2",{className:"accordion-header",children:s.jsx("button",{className:"accordion-button collapsed",onClick:()=>o(!0),type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne1","aria-expanded":"false","aria-controls":"flush-collapseOne1",children:"Ratings & Reviews"})}),s.jsx("div",{id:"flush-collapseOne1",className:"accordion-collapse collapse","data-bs-parent":"#accordionExample",children:s.jsx("div",{className:"accordion-body",children:s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header",children:[n?s.jsx(t,{}):r==null?void 0:r.average," ",s.jsx("i",{className:"fa-solid fa-star text-warning"})," rating"]}),s.jsx("ul",{className:"list-group list-group-flush",children:((p=r==null?void 0:r.success)==null?void 0:p.length)>0?(h=r==null?void 0:r.success)==null?void 0:h.map((i,j)=>{var N,f,b,v;return s.jsx("li",{className:"list-group-item",children:n?s.jsx(t,{count:5}):s.jsxs(s.Fragment,{children:[(N=i==null?void 0:i.reviews[0])==null?void 0:N.rating," ",s.jsx("i",{className:"fa-solid fa-star text-warning"})," ",s.jsx("small",{children:(b=(f=i==null?void 0:i.reviews[0])==null?void 0:f.user)==null?void 0:b.name}),s.jsx("p",{style:{textAlign:"justify"},children:(v=i==null?void 0:i.reviews[0])==null?void 0:v.review}),s.jsx("small",{className:"text-secondary",children:d(i==null?void 0:i.updatedAt)})]})},j)}):s.jsx("p",{className:"text-center text-danger",children:"no ratings found"})})]})})})]})})});_.displayName="Ratings";_.propTypes={id:x.any,token:x.string};const U=()=>{u.useEffect(()=>{document.title="Ecom | Product"},[]);const c=E(),e=localStorage.getItem("token"),{id:a}=O(),{loading:o,data:l}=y(n=>n.getproductsinfoslice);return u.useEffect(()=>{e&&a&&c(X({token:e,id:a}))},[e,a,c]),u.useEffect(()=>{l&&(l!=null&&l.status?(w("Error",`${l==null?void 0:l.status}`,"error"),c(M())):l!=null&&l.error&&(w("Error","internal server error","error"),c(M())))},[l,c]),s.jsxs("div",{className:"min-vh-100 w-100",style:{backgroundColor:"rgba(217,217,217)"},children:[s.jsx(R,{data:l}),s.jsxs("div",{className:"container p-1",children:[s.jsx(S,{loading:o,data:l}),s.jsx(k,{loading:o,data:l}),s.jsx(_,{id:a,token:e})]}),s.jsx(P,{loading:o,data:l})]})};export{U as default};
